/**
 * ğŸ¼ ë§ˆìŠ¤í„° AI ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´í„° ì‹œìŠ¤í…œ
 * ë©”ì¸ í—¤ë” AIê°€ ë‹¤ë¥¸ AIë“¤ì—ê²Œ ìµœì í™”ëœ ì„ë¬´ë¥¼ ë¶€ì—¬í•˜ê³  ê²°ê³¼ë¥¼ ë¶„ì„/í†µí•©í•˜ëŠ” ì‹œìŠ¤í…œ
 */

class MasterAIOrchestrator {
    constructor() {
        this.masterAI = 'claude'; // ë©”ì¸ í—¤ë” ì—­í•  (ê°ê´€ì  ë¶„ì„ ê²°ê³¼ ìµœì )
        
        this.workerAIs = {
            chatgpt: {
                name: 'ChatGPT',
                specialty: 'ì½”ë”©/êµ¬í˜„',
                strengths: ['í”„ë¡œê·¸ë˜ë°', 'ê¸°ìˆ ì  ì†”ë£¨ì…˜', 'ë””ë²„ê¹…', 'ì•Œê³ ë¦¬ì¦˜'],
                currentTask: null,
                lastResponse: null
            },
            gemini: {
                name: 'Google AI Studio', 
                specialty: 'ì°½ì˜/ë””ìì¸',
                strengths: ['ì°½ì˜ì  ì•„ì´ë””ì–´', 'ì‚¬ìš©ì ê²½í—˜', 'ë¹„ì£¼ì–¼ ë””ìì¸', 'í˜ì‹ '],
                currentTask: null,
                lastResponse: null
            },
            perplexity: {
                name: 'Perplexity',
                specialty: 'ë¦¬ì„œì¹˜/ê²€ì¦',
                strengths: ['ìµœì‹  ì •ë³´', 'ì‹œì¥ ì¡°ì‚¬', 'íŠ¸ë Œë“œ ë¶„ì„', 'ì‚¬ì‹¤ ê²€ì¦'],
                currentTask: null,
                lastResponse: null
            }
        };
        
        this.projectStatus = {
            phase: 'initialization',
            round: 0,
            maxRounds: 10,
            objective: '',
            completedTasks: [],
            pendingTasks: []
        };
        
        this.knowledgeBase = []; // ì¶•ì ë˜ëŠ” ì§€ì‹
    }

    // ğŸ¯ í”„ë¡œì íŠ¸ ì‹œì‘ - ë§ˆìŠ¤í„° AIê°€ ì „ì²´ ê¸°íš
    async initiateProject(userRequest) {
        console.log("ğŸ¼ ë§ˆìŠ¤í„° AI ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´í„° ì‹œì‘...");
        
        const masterPrompt = this.generateMasterInitialPrompt(userRequest);
        
        return `
=== ğŸ¼ ë§ˆìŠ¤í„° AI ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´í„° ëª¨ë“œ ===
ì—­í• : ì „ì²´ í”„ë¡œì íŠ¸ ì´ê´„ ì§€íœ˜ì

ì‚¬ìš©ì ìš”ì²­: "${userRequest}"

ë‹¹ì‹ ì˜ ì„ë¬´:
1. ì´ í”„ë¡œì íŠ¸ë¥¼ ì„±ê³µì ìœ¼ë¡œ ì™„ìˆ˜í•˜ê¸° ìœ„í•œ ì „ì²´ ì „ëµ ìˆ˜ë¦½
2. ê° AI ì „ë¬¸ê°€ë“¤ì—ê²Œ ë¶€ì—¬í•  êµ¬ì²´ì ì¸ ì„ë¬´ ì„¤ê³„  
3. ìµœì ì˜ ì‘ì—… ìˆœì„œì™€ í˜‘ì—… ë°©ì‹ ê²°ì •
4. ê° AIì˜ ì¥ì ì„ ìµœëŒ€í•œ í™œìš©í•˜ëŠ” ì—­í•  ë¶„ë‹´

ì‚¬ìš© ê°€ëŠ¥í•œ AI ì „ë¬¸ê°€ë“¤:
- ChatGPT: ì½”ë”©/êµ¬í˜„ ì „ë¬¸ (í”„ë¡œê·¸ë˜ë°, ê¸°ìˆ ì  ì†”ë£¨ì…˜, ë””ë²„ê¹…, ì•Œê³ ë¦¬ì¦˜)
- Google AI Studio: ì°½ì˜/ë””ìì¸ ì „ë¬¸ (ì°½ì˜ì  ì•„ì´ë””ì–´, UX, ë¹„ì£¼ì–¼ ë””ìì¸, í˜ì‹ )  
- Perplexity: ë¦¬ì„œì¹˜/ê²€ì¦ ì „ë¬¸ (ìµœì‹  ì •ë³´, ì‹œì¥ ì¡°ì‚¬, íŠ¸ë Œë“œ ë¶„ì„, ê²€ì¦)

ì‘ë‹µ í˜•ì‹:
## ì „ì²´ í”„ë¡œì íŠ¸ ë¶„ì„
- í”„ë¡œì íŠ¸ ëª©í‘œ: 
- ì„±ê³µ ê¸°ì¤€:
- ì˜ˆìƒ ë‚œì´ë„:

## Phase 1 ì‘ì—… ë¶„ë‹´
### ChatGPT ì„ë¬´:
- êµ¬ì²´ì  ì‘ì—…: 
- ì „ë‹¬í•  í”„ë¡¬í”„íŠ¸: "[ì—¬ê¸°ì— ChatGPTì—ê²Œ ë³´ë‚¼ ìµœì í™”ëœ í”„ë¡¬í”„íŠ¸ ì‘ì„±]"
- ê¸°ëŒ€ ê²°ê³¼:

### Google AI Studio ì„ë¬´:  
- êµ¬ì²´ì  ì‘ì—…:
- ì „ë‹¬í•  í”„ë¡¬í”„íŠ¸: "[ì—¬ê¸°ì— Google AI Studioì—ê²Œ ë³´ë‚¼ ìµœì í™”ëœ í”„ë¡¬í”„íŠ¸ ì‘ì„±]"
- ê¸°ëŒ€ ê²°ê³¼:

### Perplexity ì„ë¬´:
- êµ¬ì²´ì  ì‘ì—…: 
- ì „ë‹¬í•  í”„ë¡¬í”„íŠ¸: "[ì—¬ê¸°ì— Perplexityì—ê²Œ ë³´ë‚¼ ìµœì í™”ëœ í”„ë¡¬í”„íŠ¸ ì‘ì„±]"
- ê¸°ëŒ€ ê²°ê³¼:

## ë‹¤ìŒ ë‹¨ê³„ ê³„íš
1. 1ì°¨ ê²°ê³¼ ìˆ˜ì§‘ í›„ ë¶„ì„ ë°©í–¥:
2. 2ì°¨ ë¼ìš´ë“œ ì˜ˆìƒ ì„ë¬´:
3. ìµœì¢… í†µí•© ì „ëµ:

## í’ˆì§ˆ ê´€ë¦¬ ì²´í¬í¬ì¸íŠ¸
- [ ] ê° AIê°€ ìµœì ì˜ ì—­í• ì„ ë§¡ì•˜ëŠ”ê°€?
- [ ] í”„ë¡¬í”„íŠ¸ê°€ êµ¬ì²´ì ì´ê³  ì‹¤í–‰ ê°€ëŠ¥í•œê°€? 
- [ ] ê²°ê³¼ë¬¼ì´ í†µí•© ê°€ëŠ¥í•œ í˜•íƒœì¸ê°€?

ë§ˆìŠ¤í„° AIë¡œì„œ ì´ í”„ë¡œì íŠ¸ë¥¼ ì„±ê³µìœ¼ë¡œ ì´ëŒì–´ì£¼ì„¸ìš”!
        `;
    }

    // ğŸ”„ ê²°ê³¼ ìˆ˜ì§‘ ë° ë‹¤ìŒ ë‹¨ê³„ ì§€ì‹œ
    generateMasterAnalysisPrompt(collectedResults) {
        return `
=== ğŸ¼ ë§ˆìŠ¤í„° AI ë¶„ì„ ëª¨ë“œ ===
ì—­í• : ê²°ê³¼ ë¶„ì„ ë° ë‹¤ìŒ ë‹¨ê³„ ì§€íœ˜

## ìˆ˜ì§‘ëœ ê²°ê³¼ë¬¼ ë¶„ì„

### ChatGPT ê²°ê³¼:
${collectedResults.chatgpt || 'ì•„ì§ ë¯¸ì™„ë£Œ'}

### Google AI Studio ê²°ê³¼:  
${collectedResults.gemini || 'ì•„ì§ ë¯¸ì™„ë£Œ'}

### Perplexity ê²°ê³¼:
${collectedResults.perplexity || 'ì•„ì§ ë¯¸ì™„ë£Œ'}

## ë§ˆìŠ¤í„° AI ë¶„ì„ ì„ë¬´:
1. ê° AIì˜ ê²°ê³¼ë¬¼ì„ ì¢…í•© í‰ê°€
2. ë¶€ì¡±í•œ ë¶€ë¶„ì´ë‚˜ ê°œì„ ì  íŒŒì•…  
3. ë‹¤ìŒ ë¼ìš´ë“œì—ì„œ í•„ìš”í•œ ì¶”ê°€ ì‘ì—… ì„¤ê³„
4. ê° AIì—ê²Œ ë³´ë‚¼ êµ¬ì²´ì ì´ê³  ê°œì„ ëœ í”„ë¡¬í”„íŠ¸ ì‘ì„±

## ì‘ë‹µ í˜•ì‹:

### ğŸ” í˜„ì¬ ì§„í–‰ ìƒí™© ë¶„ì„
- ì „ì²´ ì§„í–‰ë¥ : ___% 
- ìš°ìˆ˜í•œ ë¶€ë¶„:
- ë¶€ì¡±í•œ ë¶€ë¶„: 
- ì˜ˆìƒì¹˜ ëª»í•œ ì´ìŠˆ:

### ğŸ¯ ë‹¤ìŒ ë¼ìš´ë“œ ì „ëµ

#### ChatGPT ë‹¤ìŒ ì„ë¬´:
- ì´ì „ ê²°ê³¼ í‰ê°€: 
- ê°œì„ /ì¶”ê°€ ì‘ì—…:
- ìµœì í™”ëœ í”„ë¡¬í”„íŠ¸: "[êµ¬ì²´ì ì´ê³  ì‹¤í–‰ ê°€ëŠ¥í•œ í”„ë¡¬í”„íŠ¸]"

#### Google AI Studio ë‹¤ìŒ ì„ë¬´:
- ì´ì „ ê²°ê³¼ í‰ê°€:
- ê°œì„ /ì¶”ê°€ ì‘ì—…: 
- ìµœì í™”ëœ í”„ë¡¬í”„íŠ¸: "[êµ¬ì²´ì ì´ê³  ì‹¤í–‰ ê°€ëŠ¥í•œ í”„ë¡¬í”„íŠ¸]"

#### Perplexity ë‹¤ìŒ ì„ë¬´:
- ì´ì „ ê²°ê³¼ í‰ê°€:
- ê°œì„ /ì¶”ê°€ ì‘ì—…:
- ìµœì í™”ëœ í”„ë¡¬í”„íŠ¸: "[êµ¬ì²´ì ì´ê³  ì‹¤í–‰ ê°€ëŠ¥í•œ í”„ë¡¬í”„íŠ¸]"

### ğŸ“Š í’ˆì§ˆ ì²´í¬
- [ ] ê° ê²°ê³¼ë¬¼ì´ í”„ë¡œì íŠ¸ ëª©í‘œì— ê¸°ì—¬í•˜ëŠ”ê°€?
- [ ] AIë“¤ ê°„ì˜ í˜‘ì—…ì´ ì›í™œíˆ ì´ë£¨ì–´ì§€ê³  ìˆëŠ”ê°€?
- [ ] ë‹¤ìŒ ë‹¨ê³„ë¡œ ì§„í–‰í•  ì¤€ë¹„ê°€ ë˜ì—ˆëŠ”ê°€?

### ğŸ¼ ë§ˆìŠ¤í„° ì§€íœ˜
- í˜‘ì—… ì™„ë£Œ ì˜ˆì • ë¼ìš´ë“œ: 
- ìµœì¢… ê²°ê³¼ë¬¼ í˜•íƒœ:
- ì„±ê³µ ê°€ëŠ¥ì„± í‰ê°€:

ì „ì²´ í”„ë¡œì íŠ¸ë¥¼ ì„±ê³µìœ¼ë¡œ ì´ëŒê¸° ìœ„í•œ ë§ˆìŠ¤í„° ì „ëµì„ ì œì‹œí•´ì£¼ì„¸ìš”!
        `;
    }

    // ğŸ ìµœì¢… í†µí•© ë° ì™„ì„±
    generateMasterFinalPrompt(allRounds) {
        return `
=== ğŸ¼ ë§ˆìŠ¤í„° AI ìµœì¢… í†µí•© ëª¨ë“œ ===
ì—­í• : ì „ì²´ í”„ë¡œì íŠ¸ ì™„ì„± ë° í’ˆì§ˆ ë³´ì¦

## ì „ì²´ í˜‘ì—… ê³¼ì • ë¦¬ë·°
${this.formatAllRoundsData(allRounds)}

## ë§ˆìŠ¤í„° AI ìµœì¢… ì„ë¬´:
1. ëª¨ë“  AIë“¤ì˜ ê²°ê³¼ë¬¼ì„ í•˜ë‚˜ë¡œ í†µí•©
2. ì‚¬ìš©ìê°€ ìš”ì²­í•œ ìµœì¢… ëª©í‘œ ë‹¬ì„± ì—¬ë¶€ í™•ì¸
3. ì™„ì„±ëœ ê²°ê³¼ë¬¼ì˜ í’ˆì§ˆ ê²€ì¦ ë° ê°œì„ 
4. ì‹¤ì œ ì‚¬ìš© ê°€ëŠ¥í•œ í˜•íƒœë¡œ ìµœì¢… ì •ë¦¬

## ì‘ë‹µ í˜•ì‹:

### ğŸ¯ í”„ë¡œì íŠ¸ ì™„ì„±ë„ í‰ê°€
- ëª©í‘œ ë‹¬ì„±ë¥ : ___%
- í’ˆì§ˆ ìˆ˜ì¤€: 
- ì‹¤ìš©ì„± í‰ê°€:

### ğŸ† ìµœì¢… í†µí•© ê²°ê³¼ë¬¼
[ì—¬ê¸°ì— ëª¨ë“  AIì˜ ê²°ê³¼ë¥¼ í†µí•©í•œ ì™„ì„±ëœ ìµœì¢… ê²°ê³¼ë¬¼ ì œì‹œ]

### ğŸ“‹ ìƒì„¸ êµ¬ì„± ìš”ì†Œ
1. ChatGPT ê¸°ì—¬ ë¶€ë¶„:
2. Google AI Studio ê¸°ì—¬ ë¶€ë¶„: 
3. Perplexity ê¸°ì—¬ ë¶€ë¶„:

### ğŸ”§ ì¶”ê°€ ê°œì„  ì œì•ˆ
- ë‹¨ê¸° ê°œì„ ì :
- ì¥ê¸° ë°œì „ ë°©í–¥:
- í™•ì¥ ê°€ëŠ¥ì„±:

### ğŸ“Š ë§ˆìŠ¤í„° AI ì´í‰
- í˜‘ì—… íš¨ìœ¨ì„±:
- ê° AI í™œìš©ë„: 
- í”„ë¡œì íŠ¸ ì„±ê³µ ìš”ì¸:
- í–¥í›„ ìœ ì‚¬ í”„ë¡œì íŠ¸ ê¶Œì¥ì‚¬í•­:

ì‚¬ìš©ìê°€ ì¦‰ì‹œ í™œìš©í•  ìˆ˜ ìˆëŠ” ì™„ì„±ëœ ê²°ê³¼ë¬¼ì„ ì œê³µí•´ì£¼ì„¸ìš”!
        `;
    }

    // ğŸ“‹ ì‚¬ìš© ê°€ì´ë“œ ìƒì„±
    generateUsageGuide(projectName) {
        return `
ğŸ¼ ë§ˆìŠ¤í„° AI ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´í„° ì‚¬ìš© ê°€ì´ë“œ
í”„ë¡œì íŠ¸: "${projectName}"

## ğŸš€ Phase 1: í”„ë¡œì íŠ¸ ì‹œì‘ (Claude/ë§ˆìŠ¤í„° AI)
1. Claude íƒ­ì—ì„œ ë‹¤ìŒ ì‹¤í–‰:
   - ìœ„ì˜ "ë§ˆìŠ¤í„° ì´ˆê¸° í”„ë¡¬í”„íŠ¸" ë¶™ì—¬ë„£ê¸°
   - ë§ˆìŠ¤í„° AIê°€ ì „ì²´ ê³„íšê³¼ ê° AIë³„ ì„ë¬´ ë°°ì •

## ğŸ”„ Phase 2: ì‘ì—…ì AIë“¤ ì‹¤í–‰
2. ChatGPT íƒ­: ë§ˆìŠ¤í„°ê°€ ì§€ì •í•œ "ChatGPT ì„ë¬´ í”„ë¡¬í”„íŠ¸" ì‹¤í–‰
3. Google AI Studio íƒ­: ë§ˆìŠ¤í„°ê°€ ì§€ì •í•œ "Google AI Studio ì„ë¬´ í”„ë¡¬í”„íŠ¸" ì‹¤í–‰  
4. Perplexity íƒ­: ë§ˆìŠ¤í„°ê°€ ì§€ì •í•œ "Perplexity ì„ë¬´ í”„ë¡¬í”„íŠ¸" ì‹¤í–‰

## ğŸ”„ Phase 3: ê²°ê³¼ ë¶„ì„ (Claude/ë§ˆìŠ¤í„° AI)
5. Claude íƒ­ì—ì„œ "ë§ˆìŠ¤í„° ë¶„ì„ í”„ë¡¬í”„íŠ¸" + ëª¨ë“  AI ê²°ê³¼ë¬¼ ì…ë ¥
   - ë§ˆìŠ¤í„°ê°€ ê²°ê³¼ ë¶„ì„ ë° ë‹¤ìŒ ë¼ìš´ë“œ ì§€ì‹œ

## ğŸ”„ Phase 4-N: ë°˜ë³µ ê°œì„ 
6. ë§ˆìŠ¤í„° ì§€ì‹œì— ë”°ë¼ ê° AIì—ì„œ ê°œì„ ëœ í”„ë¡¬í”„íŠ¸ ì‹¤í–‰
7. í’ˆì§ˆì´ ë§Œì¡±ìŠ¤ëŸ¬ìš¸ ë•Œê¹Œì§€ ë°˜ë³µ

## ğŸ Phase Final: ìµœì¢… í†µí•©
8. Claude íƒ­ì—ì„œ "ë§ˆìŠ¤í„° ìµœì¢… í†µí•© í”„ë¡¬í”„íŠ¸" ì‹¤í–‰
   - ì™„ì„±ëœ ìµœì¢… ê²°ê³¼ë¬¼ ì‚°ì¶œ

## ğŸ’¡ í•µì‹¬ í¬ì¸íŠ¸
- âœ… ë§ˆìŠ¤í„° AI(Claude)ê°€ ëª¨ë“  ê²ƒì„ ì§€íœ˜
- âœ… ê° AIëŠ” ìì‹ ì˜ ì „ë¬¸ ë¶„ì•¼ì—ë§Œ ì§‘ì¤‘  
- âœ… í”„ë¡¬í”„íŠ¸ëŠ” ë§ˆìŠ¤í„°ê°€ ìµœì í™”í•´ì„œ ì œê³µ
- âœ… ì§€ì†ì ì¸ í’ˆì§ˆ ê´€ë¦¬ ë° ê°œì„ 

ì´ì œ ì§„ì •í•œ AI ì˜¤ì¼€ìŠ¤íŠ¸ë¼ê°€ ì‹œì‘ë©ë‹ˆë‹¤! ğŸ¼
        `;
    }

    // ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜ë“¤
    formatAllRoundsData(allRounds) {
        return allRounds.map((round, i) => 
            `Round ${i+1}:\n${Object.entries(round).map(([ai, result]) => 
                `- ${ai}: ${result.substring(0, 200)}...`
            ).join('\n')}`
        ).join('\n\n');
    }
}

// ì „ì—­ ì¸ìŠ¤í„´ìŠ¤
window.masterOrchestrator = new MasterAIOrchestrator();

console.log(`
ğŸ¼ ë§ˆìŠ¤í„° AI ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´í„° ì‹œìŠ¤í…œ ì¤€ë¹„ ì™„ë£Œ!

ğŸ“‹ ì‚¬ìš©ë²•:
1. masterOrchestrator.initiateProject("í”„ë¡œì íŠ¸ ì„¤ëª…")
2. ìƒì„±ëœ í”„ë¡¬í”„íŠ¸ë¥¼ Claude(ë§ˆìŠ¤í„°)ì—ì„œ ì‹¤í–‰
3. ë§ˆìŠ¤í„°ì˜ ì§€ì‹œì— ë”°ë¼ ê° AIì—ì„œ ì‘ì—… ìˆ˜í–‰
4. ê²°ê³¼ë¥¼ ë§ˆìŠ¤í„°ê°€ ë¶„ì„ ë° í†µí•©

ğŸ¯ ì§€ê¸ˆ ë°”ë¡œ ì‹œì‘:
masterOrchestrator.initiateProject("í˜ì‹ ì ì¸ ì‡¼í•‘ëª° ì•± ê°œë°œ")
`);